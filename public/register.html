<!doctype html><html><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Register — A.Production (of sorts)</title>
<link rel="stylesheet" href="/styles/base.css"><link rel="stylesheet" href="/styles/components.css">
</head><body><div class="container">
  <nav class="nav"><a href="/index.html">A.Production</a><span class="muted">(of sorts)</span><div style="margin-left:auto"><a href="/login.html">Login</a></div></nav>
  <div class="card" style="max-width:420px;margin:60px auto">
    <h2>Let’s make it official.</h2>
    <form id="register-form" method="post" action="#">
      <input name="email" type="email" autocomplete="email" required />
      <input name="password" type="password" autocomplete="new-password" required />
      <button type="submit">Create account</button>
    </form>
  </div>
</div>
<script type="module">
  import { Auth } from '/scripts/api.js';

  const form = document.getElementById('register-form');
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = form.email.value.trim().toLowerCase();
    const password = form.password.value;

    try {
      await Auth.register(email, password);     // POST /api/auth/register
      location.href = '/index.html';
    } catch (err) {
      alert(err.message || 'Register failed');
    }
  });
</script>
</body></html>
