<!doctype html><html><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Login - A.Production (of sorts)</title>
<link rel="stylesheet" href="/styles/base.css"><link rel="stylesheet" href="/styles/components.css">
</head><body><div class="container">
  <nav class="nav"><a href="/index.html">A.Production</a><span class="muted" style="margin-left:8px">(of sorts)</span><div style="margin-left:auto"><a href="/register.html">Register</a></div></nav>
  <div class="card" style="max-width:420px;margin:60px auto">
    <h2>Welcome back, legend.</h2>
    <form id="f" class="grid">
      <input class="input" name="email" placeholder="Email" type="email" required>
      <input class="input" name="password" placeholder="Password" type="password" required>
      <button class="button" type="submit">Login</button>
      <p id="error" class="muted" role="alert"></p>
    </form>
  </div>
</div>
<script type="module">
  import { Auth } from '/scripts/api.js';
  const form = document.getElementById('f');
  const error = document.getElementById('error');
  form.onsubmit = async (event) => {
    event.preventDefault();
    error.textContent = '';
    const fd = new FormData(form);
    try {
      await Auth.login(fd.get('email'), fd.get('password'));
      location.href = '/control-panel.html';
    } catch (err) {
      error.textContent = err.message || 'Login failed';
    }
  };
</script>
</body></html>
